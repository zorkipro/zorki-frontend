<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zorki.pro - –†–µ–π—Ç–∏–Ω–≥ –±–ª–æ–≥–µ—Ä–æ–≤ –ë–µ–ª–∞—Ä—É—Å–∏</title>
    <meta name="description" content="–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞, –≥–¥–µ –±—Ä–µ–Ω–¥—ã –Ω–∞—Ö–æ–¥—è—Ç –±–ª–æ–≥–µ—Ä–æ–≤. –í—Å—ë —É–¥–æ–±–Ω–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ." />
    <meta name="keywords" content="–±–ª–æ–≥–µ—Ä—ã –±–µ–ª–∞—Ä—É—Å–∏, —Ä–µ–π—Ç–∏–Ω–≥ –±–ª–æ–≥–µ—Ä–æ–≤, –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä—ã, —Ä–µ–∫–ª–∞–º–∞ –≤ –∏–Ω—Å—Ç–∞–≥—Ä–∞–º, —Ä–µ–∫–ª–∞–º–∞ –≤ —Ç–∏–∫—Ç–æ–∫, —Ä–µ–∫–ª–∞–º–∞ –≤ —é—Ç—É–±, —Ä–µ–∫–ª–∞–º–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ, —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ —Å –±–ª–æ–≥–µ—Ä–∞–º–∏" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://zorki.pro/" />
    <meta property="og:title" content="Zorki.pro - –†–µ–π—Ç–∏–Ω–≥ –±–ª–æ–≥–µ—Ä–æ–≤ –ë–µ–ª–∞—Ä—É—Å–∏" />
    <meta property="og:description" content="–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞, –≥–¥–µ –±—Ä–µ–Ω–¥—ã –Ω–∞—Ö–æ–¥—è—Ç –±–ª–æ–≥–µ—Ä–æ–≤. –í—Å—ë —É–¥–æ–±–Ω–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ." />
    <meta property="og:image" content="/og-image.jpg" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://zorki.pro/" />
    <meta property="twitter:title" content="Zorki.pro - –†–µ–π—Ç–∏–Ω–≥ –±–ª–æ–≥–µ—Ä–æ–≤ –ë–µ–ª–∞—Ä—É—Å–∏" />
    <meta property="twitter:description" content="–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞, –≥–¥–µ –±—Ä–µ–Ω–¥—ã –Ω–∞—Ö–æ–¥—è—Ç –±–ª–æ–≥–µ—Ä–æ–≤. –í—Å—ë —É–¥–æ–±–Ω–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ." />
    <meta property="twitter:image" content="/og-image.jpg" />
    
    <!-- Theme -->
    <meta name="theme-color" content="#000000" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Zorki.pro" />
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KVDLF2WK');</script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KVDLF2WK"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="root"></div>
    <script>
      // –†–∞–Ω–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ —Å Supabase –¥–æ–º–µ–Ω–∞ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ React)
      (function() {
        try {
          const supabaseUrl = 'https://db.zorki.pro';
          const currentHost = window.location.hostname;
          const supabaseHost = supabaseUrl ? new URL(supabaseUrl).hostname : null;
          const hasHashParams = window.location.hash.includes('access_token');
          
          if (supabaseHost && currentHost === supabaseHost && hasHashParams) {
            // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π origin
            let frontendOrigin = localStorage.getItem('oauth_redirect_origin') || 
                               sessionStorage.getItem('oauth_redirect_origin');
            
            if (!frontendOrigin) {
              // Fallback: –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ API URL –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
              const isDev = window.location.hostname === 'localhost' || window.location.hostname.includes('localhost');
              frontendOrigin = isDev ? 'http://localhost:8085' : 'https://zorki.pro';
            }
            
            frontendOrigin = frontendOrigin.replace(/\/$/, '');
            const redirectUrl = frontendOrigin + window.location.pathname + window.location.search + window.location.hash;
            
            console.log('üîÑ HTML redirect:', { from: window.location.href, to: redirectUrl });
            window.location.replace(redirectUrl);
          }
        } catch (e) {
          console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞:', e);
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
